[2025-08-01 00:40:59 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 00:40:59 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 00:40:59 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 00:40:59 INF] Now listening on: http://localhost:5050
[2025-08-01 00:40:59 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 00:40:59 INF] Hosting environment: Development
[2025-08-01 00:40:59 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 00:42:12 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
[2025-08-01 00:42:12 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 364.7153ms
[2025-08-01 00:42:12 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 00:42:12 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 2.6865ms
[2025-08-01 00:42:12 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 00:42:12 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.4634ms
[2025-08-01 00:42:12 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/favicon-32x32.png - null null
[2025-08-01 00:42:12 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/rezdy/swagger.json - null null
[2025-08-01 00:42:12 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2025-08-01 00:42:12 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/favicon-32x32.png - 499 628 image/png 67.346ms
[2025-08-01 00:42:12 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/rezdy/swagger.json - 200 null application/json;charset=utf-8 31.5518ms
[2025-08-01 00:42:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/index.html - null null
[2025-08-01 00:42:19 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/index.html - 200 null text/html;charset=utf-8 21.8838ms
[2025-08-01 00:42:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui.css - null null
[2025-08-01 00:42:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui-standalone-preset.js - null null
[2025-08-01 00:42:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui-bundle.js - null null
[2025-08-01 00:42:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 00:42:19 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 1.9706ms
[2025-08-01 00:42:19 INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
[2025-08-01 00:42:19 INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
[2025-08-01 00:42:19 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 46.1198ms
[2025-08-01 00:42:19 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui.css - 200 144929 text/css 48.4261ms
[2025-08-01 00:42:19 INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
[2025-08-01 00:42:19 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 53.3533ms
[2025-08-01 00:42:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 00:42:19 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.9015ms
[2025-08-01 00:42:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/favicon-32x32.png - null null
[2025-08-01 00:42:19 INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
[2025-08-01 00:42:19 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/favicon-32x32.png - 200 628 image/png 0.5708ms
[2025-08-01 00:42:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/swagger/rezdy/swagger.json - null null
[2025-08-01 00:42:19 INF] Request finished HTTP/1.1 GET http://localhost:5050/swagger/rezdy/swagger.json - 200 null application/json;charset=utf-8 6.6719ms
[2025-08-01 00:42:38 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 00:42:38 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 00:42:38 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 00:42:38 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 00:42:45 INF] Executed DbCommand (51ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
[2025-08-01 00:48:07 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 329790.0691ms
[2025-08-01 00:48:08 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 00:48:08 ERR] Bir sistem hatası oluştu. Path: /api/rezdyconnect/availability, CorrelationId: 18442db7-6f86-485e-b6a8-07035ec45c32
System.InvalidOperationException: The LINQ expression 'DbSet<Availability>()
    .Where(a => a.ActivityId == __activityId_0 && a.StartTime.HasValue && a.StartTime.Value.UtcDateTime >= __fromUtc_1 && a.StartTime.Value.UtcDateTime <= __toUtc_2)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TourManagementApi.Services.AvailabilityService.GetSessions(String productCode, String externalProductCode, DateTime fromUtc, DateTime toUtc)
   at TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability(String apiKey, String productCode, String externalProductCode, DateTime from, DateTime to, String fromLocal, String toLocal)
   at lambda_method24(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at TourManagementApi.Middleware.GlobalExceptionMiddleware.Invoke(HttpContext context)
[2025-08-01 00:48:08 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 500 null application/json 329975.8148ms
[2025-08-01 00:48:08 INF] Request starting HTTP/1.1 GET http://localhost:5050/favicon.ico - null null
[2025-08-01 00:48:08 INF] Sending file. Request path: '/favicon.ico'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\favicon.ico'
[2025-08-01 00:48:08 INF] Request finished HTTP/1.1 GET http://localhost:5050/favicon.ico - 200 0 image/x-icon 2.8518ms
[2025-08-01 00:48:24 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 00:48:25 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 00:48:25 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 00:48:25 INF] Now listening on: http://localhost:5050
[2025-08-01 00:48:25 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 00:48:25 INF] Hosting environment: Development
[2025-08-01 00:48:25 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 00:48:40 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 00:48:40 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 00:48:40 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 00:48:40 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 00:49:08 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 28557.742ms
[2025-08-01 00:49:08 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 00:49:08 ERR] Bir sistem hatası oluştu. Path: /api/rezdyconnect/availability, CorrelationId: 05750e0a-f347-45ef-994f-f1414234deb9
System.InvalidOperationException: The LINQ expression 'DbSet<Availability>()
    .Where(a => a.ActivityId == __activityId_0 && a.StartTime.HasValue && a.StartTime.Value.UtcDateTime >= __fromUtc_1 && a.StartTime.Value.UtcDateTime <= __toUtc_2)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at TourManagementApi.Services.AvailabilityService.GetSessions(String productCode, String externalProductCode, DateTime fromUtc, DateTime toUtc)
   at TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability(String apiKey, String productCode, String externalProductCode, DateTime from, DateTime to, String fromLocal, String toLocal)
   at lambda_method24(Closure, Object, Object[])
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.StatusCodePagesMiddleware.Invoke(HttpContext context)
   at TourManagementApi.Middleware.GlobalExceptionMiddleware.Invoke(HttpContext context)
[2025-08-01 00:49:08 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 500 null application/json 28860.8574ms
[2025-08-01 00:49:11 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 00:49:11 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 00:49:11 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 00:49:11 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 00:51:11 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 00:51:12 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 00:51:12 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 00:51:12 INF] Now listening on: http://localhost:5050
[2025-08-01 00:51:12 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 00:51:12 INF] Hosting environment: Development
[2025-08-01 00:51:12 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 00:51:21 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 00:51:21 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 00:51:21 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 00:51:21 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 00:51:29 INF] Executed DbCommand (52ms) [Parameters=[@__activityId_0='42', @__fromOffset_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__toOffset_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__fromOffset_1 AND [a].[StartTime] <= @__toOffset_2
[2025-08-01 00:52:03 INF] Executed DbCommand (26ms) [Parameters=[@__activityId_0='42', @__fromOffset_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__toOffset_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__fromOffset_1 AND [a].[StartTime] <= @__toOffset_2
[2025-08-01 00:54:04 INF] Executed DbCommand (28ms) [Parameters=[@__activityId_0='42', @__p_1='0001-01-01T00:00:00.0000000+00:00' (Nullable = true), @__p_2='0001-01-01T00:00:00.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] IS NOT NULL AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
[2025-08-01 00:54:55 INF] Executed action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 214018.7744ms.
[2025-08-01 00:54:55 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 00:54:55 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 214127.5719ms
[2025-08-01 00:54:55 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 00:54:55 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 214320.1659ms
[2025-08-01 00:54:59 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 00:54:59 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 00:54:59 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 00:54:59 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 01:07:36 INF] Executed DbCommand (27ms) [Parameters=[@__activityId_0='42', @__fromOffset_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__toOffset_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] IS NOT NULL AND [a].[StartTime] >= @__fromOffset_1 AND [a].[StartTime] <= @__toOffset_2
[2025-08-01 01:13:47 INF] Executed DbCommand (29ms) [Parameters=[@__activityId_0='42', @__p_1='2025-08-01T00:36:09.0000000+03:00' (Nullable = true), @__p_2='2025-08-31T23:59:59.0000000+03:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
[2025-08-01 01:14:11 INF] Executed DbCommand (32ms) [Parameters=[@__activityId_0='42'], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0
[2025-08-01 13:18:35 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 13:18:35 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 13:18:35 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 13:18:35 INF] Now listening on: http://localhost:5050
[2025-08-01 13:18:35 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 13:18:35 INF] Hosting environment: Development
[2025-08-01 13:18:35 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 14:43:54 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 14:43:55 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 14:43:55 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 14:43:55 INF] Now listening on: http://localhost:5050
[2025-08-01 14:43:55 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 14:43:55 INF] Hosting environment: Development
[2025-08-01 14:43:55 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 14:44:01 INF] Request starting HTTP/1.1 GET http://localhost:5050/ - null null
[2025-08-01 14:44:02 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi)'
[2025-08-01 14:44:02 INF] Route matched with {action = "Index", controller = "ActivitiesWizard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 14:44:02 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi) - Validation state: "Invalid"
[2025-08-01 14:44:03 INF] Executed DbCommand (79ms) [Parameters=[@__Id_0='96d2940f09674b0f81d86bc821c69ff6' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Title], [a].[Description], [a].[Category], [t].[CompanyName], [a].[Label], [a].[Status], [t].[Id], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [a].[CountryCode], [a].[DestinationCode], [a].[DestinationName], [a].[CreatedAt], [a].[UpdatedAt], [a].[Rating], [a].[IsFreeCancellation], (
    SELECT COUNT(*)
    FROM [Reservations] AS [r]
    WHERE [a].[Id] = [r].[ActivityId]), (
    SELECT COUNT(*)
    FROM [Availabilities] AS [a0]
    WHERE [a].[Id] = [a0].[ActivityId])
FROM [Activities] AS [a]
LEFT JOIN [TourCompanies] AS [t] ON [a].[TourCompanyId] = [t].[Id]
LEFT JOIN [Options] AS [o] ON [a].[Id] = [o].[ActivityId]
WHERE [a].[B2BAgencyId] = @__Id_0
ORDER BY [a].[Id], [t].[Id]
[2025-08-01 14:44:03 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 876.4067ms.
[2025-08-01 14:44:06 INF] Executing ViewResult, running view Index.
[2025-08-01 14:44:06 INF] Executed ViewResult - view Index executed in 3822.5667ms.
[2025-08-01 14:44:06 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi) in 4806.642ms
[2025-08-01 14:44:06 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi)'
[2025-08-01 14:44:06 INF] Session started; Key:9197a2e7-8108-f16f-1ec9-56dc9812da82, Id:8b41df68-489b-b2cb-a6ae-ca3255a42f4b
[2025-08-01 14:44:06 INF] Request finished HTTP/1.1 GET http://localhost:5050/ - 200 null text/html; charset=utf-8 5031.3226ms
[2025-08-01 14:44:06 INF] Request starting HTTP/1.1 GET http://localhost:5050/lib/bootstrap/dist/css/bootstrap.min.css - null null
[2025-08-01 14:44:06 INF] Request starting HTTP/1.1 GET http://localhost:5050/css/site.css?v=SdYn8dEg3FtG-NKLajhreC6d5tFLAHhsSFTabA04Z-Q - null null
[2025-08-01 14:44:06 INF] Request starting HTTP/1.1 GET http://localhost:5050/lib/jquery/dist/jquery.min.js - null null
[2025-08-01 14:44:06 INF] Request starting HTTP/1.1 GET http://localhost:5050/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
[2025-08-01 14:44:06 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 14:44:06 INF] Request starting HTTP/1.1 GET http://localhost:5050/js/site.js?v=qZeAq26xp7dsarNSRZDWTUJes-9D14egUbPPcChdFj4 - null null
[2025-08-01 14:44:06 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 15.1716ms
[2025-08-01 14:44:06 INF] Sending file. Request path: '/js/site.js'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\js\site.js'
[2025-08-01 14:44:06 INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\css\site.css'
[2025-08-01 14:44:06 INF] Request finished HTTP/1.1 GET http://localhost:5050/js/site.js?v=qZeAq26xp7dsarNSRZDWTUJes-9D14egUbPPcChdFj4 - 200 397 text/javascript 22.7783ms
[2025-08-01 14:44:06 INF] Request finished HTTP/1.1 GET http://localhost:5050/css/site.css?v=SdYn8dEg3FtG-NKLajhreC6d5tFLAHhsSFTabA04Z-Q - 200 859 text/css 27.5999ms
[2025-08-01 14:44:07 INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
[2025-08-01 14:44:07 INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
[2025-08-01 14:44:07 INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\lib\jquery\dist\jquery.min.js'
[2025-08-01 14:44:07 INF] Request finished HTTP/1.1 GET http://localhost:5050/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78135 text/javascript 39.4643ms
[2025-08-01 14:44:07 INF] Request finished HTTP/1.1 GET http://localhost:5050/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 39.912ms
[2025-08-01 14:44:07 INF] Request finished HTTP/1.1 GET http://localhost:5050/lib/bootstrap/dist/css/bootstrap.min.css - 200 163879 text/css 47.4984ms
[2025-08-01 14:44:07 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 14:44:07 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.5152ms
[2025-08-01 14:44:08 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 14:44:08 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 14:44:08 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 14:44:08 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 14:44:14 INF] Executed DbCommand (28ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
[2025-08-01 14:44:14 INF] Executed action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5832.1703ms.
[2025-08-01 14:44:14 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 14:44:14 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 5866.8246ms
[2025-08-01 14:44:14 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 14:44:14 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 5916.5695ms
[2025-08-01 15:06:49 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 15:06:49 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 15:06:50 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 15:06:50 INF] Now listening on: http://localhost:5050
[2025-08-01 15:06:50 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 15:06:50 INF] Hosting environment: Development
[2025-08-01 15:06:50 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 15:06:50 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 15:06:50 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 15:06:50 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:06:50 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 15:06:51 INF] Executed DbCommand (87ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
[2025-08-01 15:06:51 INF] Executed action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 705.1062ms.
[2025-08-01 15:06:51 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 15:06:51 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 772.4807ms
[2025-08-01 15:06:51 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 15:06:51 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 943.4776ms
[2025-08-01 15:17:11 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 15:17:11 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 15:17:11 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:17:11 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 15:17:12 INF] Executed DbCommand (61ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 15:17:12 INF] Executed action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 395.5316ms.
[2025-08-01 15:17:12 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 15:17:12 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 414.6532ms
[2025-08-01 15:17:12 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 15:17:12 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 463.5758ms
[2025-08-01 15:32:29 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 15:32:29 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:32:29 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:32:29 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) - Validation state: "Valid"
[2025-08-01 15:32:29 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-08-01 15:32:29 INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId]
[2025-08-01 15:32:30 INF] Executed action method TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 736.905ms.
[2025-08-01 15:32:30 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 15:32:30 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 771.0968ms
[2025-08-01 15:32:30 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:32:30 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 819.8481ms
[2025-08-01 15:32:49 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 15:32:49 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:32:49 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:32:49 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) - Validation state: "Valid"
[2025-08-01 15:32:49 INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId]
[2025-08-01 15:32:49 INF] Executed action method TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 291.4942ms.
[2025-08-01 15:32:49 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 15:32:49 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 309.4256ms
[2025-08-01 15:32:49 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:32:49 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 336.6689ms
[2025-08-01 15:33:02 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 15:33:02 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:33:02 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:33:02 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) - Validation state: "Valid"
[2025-08-01 15:33:02 INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId]
[2025-08-01 15:33:02 INF] Executed action method TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.UnprocessableEntityObjectResult in 292.4628ms.
[2025-08-01 15:33:02 INF] Executing UnprocessableEntityObjectResult, writing value of type '<>f__AnonymousType34`1[[<>f__AnonymousType0`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
[2025-08-01 15:33:02 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 309.5037ms
[2025-08-01 15:33:02 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:33:02 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - 422 null application/json; charset=utf-8 330.1023ms
[2025-08-01 15:34:41 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 15:34:41 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 15:34:41 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 15:34:41 INF] Now listening on: http://localhost:5050
[2025-08-01 15:34:41 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 15:34:41 INF] Hosting environment: Development
[2025-08-01 15:34:41 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 15:34:41 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 15:34:41 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:34:41 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:34:41 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-08-01 15:34:42 INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId]
[2025-08-01 15:34:42 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 15:34:42 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 844.5599ms
[2025-08-01 15:34:42 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:34:42 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 941.1626ms
[2025-08-01 15:45:23 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 15:45:23 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 15:45:23 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 15:45:23 INF] Now listening on: http://localhost:5050
[2025-08-01 15:45:23 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 15:45:23 INF] Hosting environment: Development
[2025-08-01 15:45:23 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 15:45:31 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 15:45:31 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:45:31 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:45:31 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-08-01 15:45:31 INF] Executed DbCommand (130ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name], [s].[Id], [s].[ActivityId], [s].[CanBeBookedAfterStartTime], [s].[CutOff], [s].[Duration], [s].[EndTime], [s].[FromDate], [s].[Name], [s].[StartTime], [s].[UntilDate], [s].[Weekdays], [s].[Id0], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name0], [s].[OptionId], [s].[PriceType], [s].[Type]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
LEFT JOIN (
    SELECT [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id] AS [Id0], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name] AS [Name0], [t].[OptionId], [t].[PriceType], [t].[Type]
    FROM [Options] AS [o]
    LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
) AS [s] ON [a].[Id] = [s].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId], [m].[Id], [s].[Id]
[2025-08-01 15:45:32 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 15:45:32 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 1446.9954ms
[2025-08-01 15:45:32 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:45:32 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 1571.9432ms
[2025-08-01 15:50:39 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 15:50:39 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:50:39 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:50:40 INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name], [s].[Id], [s].[ActivityId], [s].[CanBeBookedAfterStartTime], [s].[CutOff], [s].[Duration], [s].[EndTime], [s].[FromDate], [s].[Name], [s].[StartTime], [s].[UntilDate], [s].[Weekdays], [s].[Id0], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name0], [s].[OptionId], [s].[PriceType], [s].[Type]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
LEFT JOIN (
    SELECT [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id] AS [Id0], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name] AS [Name0], [t].[OptionId], [t].[PriceType], [t].[Type]
    FROM [Options] AS [o]
    LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
) AS [s] ON [a].[Id] = [s].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId], [m].[Id], [s].[Id]
[2025-08-01 15:50:40 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 15:50:40 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 977.0022ms
[2025-08-01 15:50:40 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:50:40 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 983.3653ms
[2025-08-01 15:50:59 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 15:50:59 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:50:59 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 15:50:59 INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name], [s].[Id], [s].[ActivityId], [s].[CanBeBookedAfterStartTime], [s].[CutOff], [s].[Duration], [s].[EndTime], [s].[FromDate], [s].[Name], [s].[StartTime], [s].[UntilDate], [s].[Weekdays], [s].[Id0], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name0], [s].[OptionId], [s].[PriceType], [s].[Type]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
LEFT JOIN (
    SELECT [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id] AS [Id0], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name] AS [Name0], [t].[OptionId], [t].[PriceType], [t].[Type]
    FROM [Options] AS [o]
    LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
) AS [s] ON [a].[Id] = [s].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId], [m].[Id], [s].[Id]
[2025-08-01 15:51:00 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 15:51:00 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 927.4187ms
[2025-08-01 15:51:00 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 15:51:00 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 930.6198ms
[2025-08-01 16:03:52 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 16:03:52 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 16:03:52 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 16:03:52 INF] Now listening on: http://localhost:5050
[2025-08-01 16:03:52 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 16:03:52 INF] Hosting environment: Development
[2025-08-01 16:03:52 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 16:03:53 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 16:03:53 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 16:03:53 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:03:54 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-08-01 16:03:54 INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name], [s].[Id], [s].[ActivityId], [s].[CanBeBookedAfterStartTime], [s].[CutOff], [s].[Duration], [s].[EndTime], [s].[FromDate], [s].[Name], [s].[StartTime], [s].[UntilDate], [s].[Weekdays], [s].[Id0], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name0], [s].[OptionId], [s].[PriceType], [s].[Type]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
LEFT JOIN (
    SELECT [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id] AS [Id0], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name] AS [Name0], [t].[OptionId], [t].[PriceType], [t].[Type]
    FROM [Options] AS [o]
    LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
) AS [s] ON [a].[Id] = [s].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId], [m].[Id], [s].[Id]
[2025-08-01 16:03:55 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:03:55 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 1618.7382ms
[2025-08-01 16:03:55 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 16:03:55 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=8&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 1712.9453ms
[2025-08-01 16:18:25 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=42&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 16:18:25 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 16:18:25 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:18:25 INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name], [s].[Id], [s].[ActivityId], [s].[CanBeBookedAfterStartTime], [s].[CutOff], [s].[Duration], [s].[EndTime], [s].[FromDate], [s].[Name], [s].[StartTime], [s].[UntilDate], [s].[Weekdays], [s].[Id0], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name0], [s].[OptionId], [s].[PriceType], [s].[Type]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
LEFT JOIN (
    SELECT [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id] AS [Id0], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name] AS [Name0], [t].[OptionId], [t].[PriceType], [t].[Type]
    FROM [Options] AS [o]
    LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
) AS [s] ON [a].[Id] = [s].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId], [m].[Id], [s].[Id]
[2025-08-01 16:18:26 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:18:26 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 1212.3254ms
[2025-08-01 16:18:26 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 16:18:26 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=42&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 1223.125ms
[2025-08-01 16:18:56 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=42&productCode=PSMJP4&offset=0&limit=100 - null null
[2025-08-01 16:18:56 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 16:18:56 INF] Route matched with {action = "GetProducts", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetProducts(System.String, Int32, Int32, System.Collections.Generic.List`1[System.String], System.Collections.Generic.List`1[System.String]) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:18:56 INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt], [a0].[Id], [a0].[ActivityId], [a0].[LanguageCode], [a1].[Id], [a1].[ActivityId], [a1].[Currency], [a1].[Description], [a1].[PriceAmount], [a1].[Title], [a1].[Type], [p].[ActivityPricingActivityId], [p].[Id], [p].[Amount], [p].[Currency], [p].[Description], [p].[DiscountType], [p].[DiscountValue], [p].[MaxAge], [p].[MaxParticipants], [p].[MinAge], [p].[MinParticipants], [p].[PriceType], [p].[Type], [m].[ActivityId], [m].[Id], [m].[Address], [m].[Latitude], [m].[Longitude], [m].[Name], [s].[Id], [s].[ActivityId], [s].[CanBeBookedAfterStartTime], [s].[CutOff], [s].[Duration], [s].[EndTime], [s].[FromDate], [s].[Name], [s].[StartTime], [s].[UntilDate], [s].[Weekdays], [s].[Id0], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name0], [s].[OptionId], [s].[PriceType], [s].[Type]
FROM [Activities] AS [a]
LEFT JOIN [ActivityLanguages] AS [a0] ON [a].[Id] = [a0].[ActivityId]
LEFT JOIN [Addons] AS [a1] ON [a].[Id] = [a1].[ActivityId]
LEFT JOIN [PriceCategory] AS [p] ON [a].[Id] = [p].[ActivityPricingActivityId]
LEFT JOIN [MeetingPoint] AS [m] ON [a].[Id] = [m].[ActivityId]
LEFT JOIN (
    SELECT [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id] AS [Id0], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name] AS [Name0], [t].[OptionId], [t].[PriceType], [t].[Type]
    FROM [Options] AS [o]
    LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
) AS [s] ON [a].[Id] = [s].[ActivityId]
ORDER BY [a].[Id], [a0].[Id], [a1].[Id], [p].[ActivityPricingActivityId], [p].[Id], [m].[ActivityId], [m].[Id], [s].[Id]
[2025-08-01 16:18:57 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType35`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.RezdyProductDto, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:18:57 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi) in 971.9726ms
[2025-08-01 16:18:57 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetProducts (TourManagementApi)'
[2025-08-01 16:18:57 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/products?apiKey=6f686c1986af4830aefb398dc2525bc6&externalProductCode=42&productCode=PSMJP4&offset=0&limit=100 - 200 null application/json; charset=utf-8 975.37ms
[2025-08-01 16:19:02 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 16:19:02 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:19:02 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:19:02 INF] Executed DbCommand (35ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 16:19:03 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:19:03 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 150.5041ms
[2025-08-01 16:19:03 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:19:03 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 155.3786ms
[2025-08-01 16:20:33 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 16:20:33 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 16:20:33 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 16:20:33 INF] Now listening on: http://localhost:5050
[2025-08-01 16:20:33 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 16:20:33 INF] Hosting environment: Development
[2025-08-01 16:20:33 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 16:20:37 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 16:20:37 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:20:37 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:20:37 INF] Executed DbCommand (65ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 16:20:37 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:20:37 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 611.2393ms
[2025-08-01 16:20:37 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:20:37 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 710.6783ms
[2025-08-01 16:20:39 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 16:20:39 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:20:39 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:20:39 INF] Executed DbCommand (29ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 16:20:39 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:20:39 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 119.0227ms
[2025-08-01 16:20:39 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:20:39 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 123.3049ms
[2025-08-01 16:20:40 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 16:20:40 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:20:40 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:20:40 INF] Executed DbCommand (27ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 16:20:40 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:20:40 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 90.0727ms
[2025-08-01 16:20:40 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:20:40 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 92.5694ms
[2025-08-01 16:21:34 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 16:21:34 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 16:21:34 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 16:21:34 INF] Now listening on: http://localhost:5050
[2025-08-01 16:21:34 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 16:21:34 INF] Hosting environment: Development
[2025-08-01 16:21:34 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 16:21:46 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 16:21:46 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:21:46 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:21:46 INF] Executed DbCommand (62ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 16:21:46 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:21:46 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 604.9032ms
[2025-08-01 16:21:46 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:21:46 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 705.7343ms
[2025-08-01 16:21:49 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 16:21:49 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:21:49 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:21:49 INF] Executed DbCommand (27ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 16:21:49 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:21:49 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 117.9119ms
[2025-08-01 16:21:49 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:21:49 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 122.1925ms
[2025-08-01 16:23:20 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 16:23:20 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 16:23:20 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 16:23:20 INF] Now listening on: http://localhost:5050
[2025-08-01 16:23:20 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 16:23:20 INF] Hosting environment: Development
[2025-08-01 16:23:20 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 16:23:20 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 16:23:20 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:23:20 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:23:21 INF] Executed DbCommand (117ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 16:23:21 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:23:21 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 696.484ms
[2025-08-01 16:23:21 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:23:21 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 792.1976ms
[2025-08-01 16:54:20 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 16:54:21 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 16:54:21 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 16:54:21 INF] Now listening on: http://localhost:5050
[2025-08-01 16:54:21 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 16:54:21 INF] Hosting environment: Development
[2025-08-01 16:54:21 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 16:54:30 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 16:54:30 INF] 
                ==== [Request Info] ====
                Path: GET /api/rezdyconnect/availability
                Query: ?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59
                Headers:
                Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Connection: keep-alive
Host: localhost:5050
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Cache-Control: max-age=0
Cookie: _ga=GA1.1.223264348.1744488007; __stripe_mid=f88cf37d-e7de-4429-83fb-864f6043494fd62ae6; _ga_NC3S6BK1PP=GS2.1.s1747908569$o12$g1$t1747910674$j0$l0$h0; _clck=lxo85y%7C2%7Cfwp%7C0%7C1989; _ga_7KRQ99G2F4=GS2.1.s1752220101$o1$g1$t1752220275$j60$l0$h0; .AspNetCore.Antiforgery.Nw_geVh5sRI=CfDJ8Jo16_dnBtBOhuPuNHKGK00g-W8-oZSENxsRRhUbv9zPKgkiMNdus_SNzgmgqZVeEIhvsIsgloU_Jb5ZmJcYdKpBllHaSYi6wtn6lqy3xtbBZtmyarCCVqBd75UYDK7xCnQxQAfI4lchvKHXUQc18MY; .AspNetCore.Session=CfDJ8Jo16%2FdnBtBOhuPuNHKGK02fEujF4jvcmo6UeoOKzb64RuDwWmVGm7kpz%2FP9Y%2B4CriS26wt3KAJd2GklJKo9HhxxZMUAiqODtdufTZ1%2B9O%2B6g9kVfxK1FJC0MfeQoX78WDaLpjFm2CzzMjXsdWjRl7BomunhDxxDgekSK%2BD29ZDW
Upgrade-Insecure-Requests: 1
sec-ch-ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
                Body:
                
                ========================
[2025-08-01 16:54:30 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:54:30 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 16:54:30 INF] Executing action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 16:54:31 INF] Executed DbCommand (82ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 16:54:31 INF] Executed action method TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 802.6851ms.
[2025-08-01 16:54:31 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 16:54:31 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 877.8622ms
[2025-08-01 16:54:31 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 16:54:31 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 1131.794ms
[2025-08-01 17:03:17 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 17:03:17 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 17:03:17 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 17:03:17 INF] Now listening on: http://localhost:5050
[2025-08-01 17:03:17 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 17:03:17 INF] Hosting environment: Development
[2025-08-01 17:03:17 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 17:03:19 INF] Request starting HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - null null
[2025-08-01 17:03:20 INF] 
                ==== [Request Info] ====
                Path: GET /api/rezdyconnect/availability
                Query: ?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59
                Headers:
                Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7
Connection: keep-alive
Host: localhost:5050
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: tr-TR,tr;q=0.9,en-US;q=0.8,en;q=0.7
Cache-Control: max-age=0
Cookie: _ga=GA1.1.223264348.1744488007; __stripe_mid=f88cf37d-e7de-4429-83fb-864f6043494fd62ae6; _ga_NC3S6BK1PP=GS2.1.s1747908569$o12$g1$t1747910674$j0$l0$h0; _clck=lxo85y%7C2%7Cfwp%7C0%7C1989; _ga_7KRQ99G2F4=GS2.1.s1752220101$o1$g1$t1752220275$j60$l0$h0; .AspNetCore.Antiforgery.Nw_geVh5sRI=CfDJ8Jo16_dnBtBOhuPuNHKGK00g-W8-oZSENxsRRhUbv9zPKgkiMNdus_SNzgmgqZVeEIhvsIsgloU_Jb5ZmJcYdKpBllHaSYi6wtn6lqy3xtbBZtmyarCCVqBd75UYDK7xCnQxQAfI4lchvKHXUQc18MY; .AspNetCore.Session=CfDJ8Jo16%2FdnBtBOhuPuNHKGK02fEujF4jvcmo6UeoOKzb64RuDwWmVGm7kpz%2FP9Y%2B4CriS26wt3KAJd2GklJKo9HhxxZMUAiqODtdufTZ1%2B9O%2B6g9kVfxK1FJC0MfeQoX78WDaLpjFm2CzzMjXsdWjRl7BomunhDxxDgekSK%2BD29ZDW
Upgrade-Insecure-Requests: 1
sec-ch-ua: "Google Chrome";v="131", "Chromium";v="131", "Not_A Brand";v="24"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "Windows"
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
                Body:
                
                ========================
[2025-08-01 17:03:20 INF] Executing endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 17:03:20 INF] Route matched with {action = "GetAvailability", controller = "RezdyConnect"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetAvailability(System.String, System.String, System.String, System.DateTime, System.DateTime, System.String, System.String) on controller TourManagementApi.Controllers.Api.RezdyConnectController (TourManagementApi).
[2025-08-01 17:03:20 INF] Executed DbCommand (62ms) [Parameters=[@__activityId_0='42', @__p_1='2025-07-31T21:36:09.0000000+00:00' (Nullable = true), @__p_2='2025-08-31T20:59:59.0000000+00:00' (Nullable = true)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [t].[Id], [t].[Amount], [t].[Currency], [t].[MaxAge], [t].[MaxSeats], [t].[MinAge], [t].[MinSeats], [t].[Name], [t].[OptionId], [t].[PriceType], [t].[Type]
FROM [Availabilities] AS [a]
INNER JOIN [Options] AS [o] ON [a].[OptionId] = [o].[Id]
LEFT JOIN [TicketCategories] AS [t] ON [o].[Id] = [t].[OptionId]
WHERE [a].[ActivityId] = @__activityId_0 AND [a].[StartTime] >= @__p_1 AND [a].[StartTime] <= @__p_2
ORDER BY [a].[Id], [o].[Id]
[2025-08-01 17:03:20 INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType36`2[[<>f__AnonymousType1`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Collections.Generic.List`1[[TourManagementApi.Models.Api.RezdyConnectModels.AvailabilitySessionResponse, TourManagementApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
[2025-08-01 17:03:20 INF] Executed action TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi) in 574.803ms
[2025-08-01 17:03:20 INF] Executed endpoint 'TourManagementApi.Controllers.Api.RezdyConnectController.GetAvailability (TourManagementApi)'
[2025-08-01 17:03:20 INF] Request finished HTTP/1.1 GET http://localhost:5050/api/rezdyconnect/availability?apiKey=6f686c1986af4830aefb398dc2525bc6&productCode=PYSYJM&externalProductCode=42&startTime=2025-07-31T21:36:09Z&endTime=2025-08-31T20:59:59Z&from=2025-07-31T21:36:09Z&to=2025-08-31T20:59:59Z&startTimeLocal=2025-08-01%2000:36:09&endTimeLocal=2025-08-31%2023:59:59&fromLocal=2025-08-01%2000:36:09&toLocal=2025-08-31%2023:59:59 - 200 null application/json; charset=utf-8 673.5697ms
[2025-08-01 17:08:10 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 17:08:11 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 17:08:11 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 17:08:11 INF] Now listening on: http://localhost:5050
[2025-08-01 17:08:11 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 17:08:11 INF] Hosting environment: Development
[2025-08-01 17:08:11 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 17:22:00 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 17:22:00 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 17:22:00 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 17:22:00 INF] Now listening on: http://localhost:5050
[2025-08-01 17:22:00 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 17:22:00 INF] Hosting environment: Development
[2025-08-01 17:22:00 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 17:29:31 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 17:29:31 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 17:29:31 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 17:29:32 INF] Now listening on: http://localhost:5050
[2025-08-01 17:29:32 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 17:29:32 INF] Hosting environment: Development
[2025-08-01 17:29:32 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 18:53:26 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 18:53:27 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 18:53:27 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 18:53:27 INF] Now listening on: http://localhost:5050
[2025-08-01 18:53:27 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 18:53:27 INF] Hosting environment: Development
[2025-08-01 18:53:27 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 19:45:05 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
[2025-08-01 19:45:06 ERR] Veritabanı güncellenirken bir hata oluştu.
System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)
   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at Program.<Main>$(String[] args) in D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\Program.cs:line 160
[2025-08-01 19:45:06 INF] User profile is available. Using 'C:\Users\OZKAN\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
[2025-08-01 19:45:06 INF] Now listening on: http://localhost:5050
[2025-08-01 19:45:06 INF] Application started. Press Ctrl+C to shut down.
[2025-08-01 19:45:06 INF] Hosting environment: Development
[2025-08-01 19:45:06 INF] Content root path: D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement
[2025-08-01 19:45:13 INF] Request starting HTTP/1.1 GET http://localhost:5050/ - null null
[2025-08-01 19:45:14 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi)'
[2025-08-01 19:45:14 INF] Route matched with {action = "Index", controller = "ActivitiesWizard"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 19:45:14 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi) - Validation state: "Invalid"
[2025-08-01 19:45:14 INF] Accessing expired session, Key:9197a2e7-8108-f16f-1ec9-56dc9812da82
[2025-08-01 19:45:14 INF] Executed DbCommand (74ms) [Parameters=[@__Id_0='96d2940f09674b0f81d86bc821c69ff6' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[Title], [a].[Description], [a].[Category], [t].[CompanyName], [a].[Label], [a].[Status], [t].[Id], [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays], [a].[CountryCode], [a].[DestinationCode], [a].[DestinationName], [a].[CreatedAt], [a].[UpdatedAt], [a].[Rating], [a].[IsFreeCancellation], (
    SELECT COUNT(*)
    FROM [Reservations] AS [r]
    WHERE [a].[Id] = [r].[ActivityId]), (
    SELECT COUNT(*)
    FROM [Availabilities] AS [a0]
    WHERE [a].[Id] = [a0].[ActivityId])
FROM [Activities] AS [a]
LEFT JOIN [TourCompanies] AS [t] ON [a].[TourCompanyId] = [t].[Id]
LEFT JOIN [Options] AS [o] ON [a].[Id] = [o].[ActivityId]
WHERE [a].[B2BAgencyId] = @__Id_0
ORDER BY [a].[Id], [t].[Id]
[2025-08-01 19:45:14 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 777.8162ms.
[2025-08-01 19:45:18 INF] Executing ViewResult, running view Index.
[2025-08-01 19:45:18 INF] Executed ViewResult - view Index executed in 3937.1713ms.
[2025-08-01 19:45:18 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi) in 4776.2066ms
[2025-08-01 19:45:18 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Index (TourManagementApi)'
[2025-08-01 19:45:18 INF] Session started; Key:9197a2e7-8108-f16f-1ec9-56dc9812da82, Id:26f9790a-8358-9df7-841f-89db9ef99d25
[2025-08-01 19:45:18 INF] Request finished HTTP/1.1 GET http://localhost:5050/ - 200 null text/html; charset=utf-8 4979.2771ms
[2025-08-01 19:45:18 INF] Request starting HTTP/1.1 GET http://localhost:5050/lib/bootstrap/dist/css/bootstrap.min.css - null null
[2025-08-01 19:45:18 INF] Request starting HTTP/1.1 GET http://localhost:5050/css/site.css?v=SdYn8dEg3FtG-NKLajhreC6d5tFLAHhsSFTabA04Z-Q - null null
[2025-08-01 19:45:18 INF] Request starting HTTP/1.1 GET http://localhost:5050/lib/jquery/dist/jquery.min.js - null null
[2025-08-01 19:45:18 INF] Request starting HTTP/1.1 GET http://localhost:5050/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
[2025-08-01 19:45:18 INF] Request starting HTTP/1.1 GET http://localhost:5050/js/site.js?v=qZeAq26xp7dsarNSRZDWTUJes-9D14egUbPPcChdFj4 - null null
[2025-08-01 19:45:18 INF] Sending file. Request path: '/lib/bootstrap/dist/css/bootstrap.min.css'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css'
[2025-08-01 19:45:18 INF] Sending file. Request path: '/js/site.js'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\js\site.js'
[2025-08-01 19:45:18 INF] Sending file. Request path: '/lib/jquery/dist/jquery.min.js'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\lib\jquery\dist\jquery.min.js'
[2025-08-01 19:45:18 INF] Sending file. Request path: '/lib/bootstrap/dist/js/bootstrap.bundle.min.js'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js'
[2025-08-01 19:45:18 INF] Sending file. Request path: '/css/site.css'. Physical path: 'D:\TFS\Lymranet\Tourism\B2B\HotelWidget\TourManagement\wwwroot\css\site.css'
[2025-08-01 19:45:18 INF] Request finished HTTP/1.1 GET http://localhost:5050/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 200 78135 text/javascript 54.9934ms
[2025-08-01 19:45:18 INF] Request finished HTTP/1.1 GET http://localhost:5050/js/site.js?v=qZeAq26xp7dsarNSRZDWTUJes-9D14egUbPPcChdFj4 - 200 397 text/javascript 47.4327ms
[2025-08-01 19:45:18 INF] Request finished HTTP/1.1 GET http://localhost:5050/lib/jquery/dist/jquery.min.js - 200 89503 text/javascript 55ms
[2025-08-01 19:45:18 INF] Request finished HTTP/1.1 GET http://localhost:5050/css/site.css?v=SdYn8dEg3FtG-NKLajhreC6d5tFLAHhsSFTabA04Z-Q - 200 859 text/css 55.135ms
[2025-08-01 19:45:18 INF] Request finished HTTP/1.1 GET http://localhost:5050/lib/bootstrap/dist/css/bootstrap.min.css - 200 163879 text/css 61.5091ms
[2025-08-01 19:45:18 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 19:45:18 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 19:45:18 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 6.9799ms
[2025-08-01 19:45:18 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.9085ms
[2025-08-01 19:46:39 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - null null
[2025-08-01 19:46:39 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:46:39 INF] Route matched with {action = "Availabilities", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Availabilities(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 19:46:39 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) - Validation state: "Valid"
[2025-08-01 19:46:39 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
[2025-08-01 19:46:39 INF] Executed DbCommand (49ms) [Parameters=[@__activityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a1].[Id], [a1].[B2BAgencyId], [a1].[Category], [a1].[ContactInfo_Email], [a1].[ContactInfoIsNull], [a1].[ContactInfo_Name], [a1].[ContactInfo_Phone], [a1].[ContactInfo_Role], [a1].[CountryCode], [a1].[CoverImage], [a1].[CreatedAt], [a1].[Description], [a1].[DestinationCode], [a1].[DestinationName], [a1].[DetailsUrl], [a1].[Duration], [a1].[Exclusions], [a1].[ExclusionsJson], [a1].[GalleryImages], [a1].[GuestFields], [a1].[GuestFieldsJson], [a1].[Highlights], [a1].[ImportantInfo], [a1].[ImportantInfoJson], [a1].[Inclusions], [a1].[InclusionsJson], [a1].[IsActive], [a1].[IsFreeCancellation], [a1].[Itinerary], [a1].[Label], [a1].[Media_Videos], [a1].[PartnerSupplierId], [a1].[PreviewImage], [a1].[Rating], [a1].[Status], [a1].[Title], [a1].[TotalRatingCount], [a1].[TourCompanyId], [a1].[UpdatedAt], [s0].[Id], [s0].[ActivityId], [s0].[AvailableCapacity], [s0].[Date], [s0].[MaximumCapacity], [s0].[OptionId], [s0].[PartnerSupplierId], [s0].[StartTime], [s0].[Id0], [s0].[ActivityId0], [s0].[CanBeBookedAfterStartTime], [s0].[CutOff], [s0].[Duration], [s0].[EndTime], [s0].[FromDate], [s0].[Name], [s0].[StartTime0], [s0].[UntilDate], [s0].[Weekdays], [s0].[Id1], [s0].[AvailabilityId], [s0].[Capacity], [s0].[TicketCategoryId], [s0].[Id00], [s0].[Amount], [s0].[Currency], [s0].[MaxAge], [s0].[MaxSeats], [s0].[MinAge], [s0].[MinSeats], [s0].[Name0], [s0].[OptionId0], [s0].[PriceType], [s0].[Type]
FROM (
    SELECT TOP(1) [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt]
    FROM [Activities] AS [a]
    WHERE [a].[Id] = @__activityId_0
) AS [a1]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [o].[Id] AS [Id0], [o].[ActivityId] AS [ActivityId0], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime] AS [StartTime0], [o].[UntilDate], [o].[Weekdays], [s].[Id] AS [Id1], [s].[AvailabilityId], [s].[Capacity], [s].[TicketCategoryId], [s].[Id0] AS [Id00], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name] AS [Name0], [s].[OptionId] AS [OptionId0], [s].[PriceType], [s].[Type]
    FROM [Availabilities] AS [a0]
    INNER JOIN [Options] AS [o] ON [a0].[OptionId] = [o].[Id]
    LEFT JOIN (
        SELECT [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId], [t0].[Id] AS [Id0], [t0].[Amount], [t0].[Currency], [t0].[MaxAge], [t0].[MaxSeats], [t0].[MinAge], [t0].[MinSeats], [t0].[Name], [t0].[OptionId], [t0].[PriceType], [t0].[Type]
        FROM [TicketCategoryCapacities] AS [t]
        INNER JOIN [TicketCategories] AS [t0] ON [t].[TicketCategoryId] = [t0].[Id]
    ) AS [s] ON [a0].[Id] = [s].[AvailabilityId]
) AS [s0] ON [a1].[Id] = [s0].[ActivityId]
ORDER BY [a1].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
[2025-08-01 19:46:40 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 277.0594ms.
[2025-08-01 19:46:40 INF] Executing ViewResult, running view Availabilities.
[2025-08-01 19:46:40 INF] Executed ViewResult - view Availabilities executed in 181.641ms.
[2025-08-01 19:46:40 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) in 475.5161ms
[2025-08-01 19:46:40 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:46:40 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - 200 null text/html; charset=utf-8 535.0503ms
[2025-08-01 19:46:40 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 19:46:40 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 19:46:40 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.2907ms
[2025-08-01 19:46:40 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.5122ms
[2025-08-01 19:46:42 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/EditAvailability/18 - null null
[2025-08-01 19:46:42 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.EditAvailability (TourManagementApi)'
[2025-08-01 19:46:42 INF] Route matched with {action = "EditAvailability", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] EditAvailability(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 19:46:42 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.EditAvailability (TourManagementApi) - Validation state: "Valid"
[2025-08-01 19:46:42 INF] Executed DbCommand (26ms) [Parameters=[@__id_0='18'], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId]
FROM (
    SELECT TOP(1) [a].[Id], [a].[ActivityId], [a].[AvailableCapacity], [a].[Date], [a].[MaximumCapacity], [a].[OptionId], [a].[PartnerSupplierId], [a].[StartTime]
    FROM [Availabilities] AS [a]
    WHERE [a].[Id] = @__id_0
) AS [a0]
LEFT JOIN [TicketCategoryCapacities] AS [t] ON [a0].[Id] = [t].[AvailabilityId]
ORDER BY [a0].[Id]
[2025-08-01 19:46:42 INF] Executed DbCommand (26ms) [Parameters=[@__p_0='5'], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[ActivityId], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime], [o].[UntilDate], [o].[Weekdays]
FROM [Options] AS [o]
WHERE [o].[Id] = @__p_0
[2025-08-01 19:46:42 INF] Executed DbCommand (25ms) [Parameters=[@__availability_ActivityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT CONVERT(varchar(11), [o].[Id]) AS [Value], [o].[Name] AS [Text]
FROM [Options] AS [o]
WHERE [o].[ActivityId] = @__availability_ActivityId_0
[2025-08-01 19:46:42 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.EditAvailability (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 120.2128ms.
[2025-08-01 19:46:42 INF] Executing ViewResult, running view CreateAvailability.
[2025-08-01 19:46:42 INF] Executed ViewResult - view CreateAvailability executed in 95.085ms.
[2025-08-01 19:46:42 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.EditAvailability (TourManagementApi) in 224.0411ms
[2025-08-01 19:46:42 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.EditAvailability (TourManagementApi)'
[2025-08-01 19:46:42 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/EditAvailability/18 - 200 null text/html; charset=utf-8 251.2601ms
[2025-08-01 19:46:42 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 19:46:42 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 19:46:42 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.23ms
[2025-08-01 19:46:42 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.3201ms
[2025-08-01 19:46:46 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - null null
[2025-08-01 19:46:46 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:46:46 INF] Route matched with {action = "Availabilities", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Availabilities(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 19:46:46 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) - Validation state: "Valid"
[2025-08-01 19:46:46 INF] Executed DbCommand (31ms) [Parameters=[@__activityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a1].[Id], [a1].[B2BAgencyId], [a1].[Category], [a1].[ContactInfo_Email], [a1].[ContactInfoIsNull], [a1].[ContactInfo_Name], [a1].[ContactInfo_Phone], [a1].[ContactInfo_Role], [a1].[CountryCode], [a1].[CoverImage], [a1].[CreatedAt], [a1].[Description], [a1].[DestinationCode], [a1].[DestinationName], [a1].[DetailsUrl], [a1].[Duration], [a1].[Exclusions], [a1].[ExclusionsJson], [a1].[GalleryImages], [a1].[GuestFields], [a1].[GuestFieldsJson], [a1].[Highlights], [a1].[ImportantInfo], [a1].[ImportantInfoJson], [a1].[Inclusions], [a1].[InclusionsJson], [a1].[IsActive], [a1].[IsFreeCancellation], [a1].[Itinerary], [a1].[Label], [a1].[Media_Videos], [a1].[PartnerSupplierId], [a1].[PreviewImage], [a1].[Rating], [a1].[Status], [a1].[Title], [a1].[TotalRatingCount], [a1].[TourCompanyId], [a1].[UpdatedAt], [s0].[Id], [s0].[ActivityId], [s0].[AvailableCapacity], [s0].[Date], [s0].[MaximumCapacity], [s0].[OptionId], [s0].[PartnerSupplierId], [s0].[StartTime], [s0].[Id0], [s0].[ActivityId0], [s0].[CanBeBookedAfterStartTime], [s0].[CutOff], [s0].[Duration], [s0].[EndTime], [s0].[FromDate], [s0].[Name], [s0].[StartTime0], [s0].[UntilDate], [s0].[Weekdays], [s0].[Id1], [s0].[AvailabilityId], [s0].[Capacity], [s0].[TicketCategoryId], [s0].[Id00], [s0].[Amount], [s0].[Currency], [s0].[MaxAge], [s0].[MaxSeats], [s0].[MinAge], [s0].[MinSeats], [s0].[Name0], [s0].[OptionId0], [s0].[PriceType], [s0].[Type]
FROM (
    SELECT TOP(1) [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt]
    FROM [Activities] AS [a]
    WHERE [a].[Id] = @__activityId_0
) AS [a1]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [o].[Id] AS [Id0], [o].[ActivityId] AS [ActivityId0], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime] AS [StartTime0], [o].[UntilDate], [o].[Weekdays], [s].[Id] AS [Id1], [s].[AvailabilityId], [s].[Capacity], [s].[TicketCategoryId], [s].[Id0] AS [Id00], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name] AS [Name0], [s].[OptionId] AS [OptionId0], [s].[PriceType], [s].[Type]
    FROM [Availabilities] AS [a0]
    INNER JOIN [Options] AS [o] ON [a0].[OptionId] = [o].[Id]
    LEFT JOIN (
        SELECT [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId], [t0].[Id] AS [Id0], [t0].[Amount], [t0].[Currency], [t0].[MaxAge], [t0].[MaxSeats], [t0].[MinAge], [t0].[MinSeats], [t0].[Name], [t0].[OptionId], [t0].[PriceType], [t0].[Type]
        FROM [TicketCategoryCapacities] AS [t]
        INNER JOIN [TicketCategories] AS [t0] ON [t].[TicketCategoryId] = [t0].[Id]
    ) AS [s] ON [a0].[Id] = [s].[AvailabilityId]
) AS [s0] ON [a1].[Id] = [s0].[ActivityId]
ORDER BY [a1].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
[2025-08-01 19:46:46 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 90.2687ms.
[2025-08-01 19:46:46 INF] Executing ViewResult, running view Availabilities.
[2025-08-01 19:46:46 INF] Executed ViewResult - view Availabilities executed in 1.7488ms.
[2025-08-01 19:46:46 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) in 101.3525ms
[2025-08-01 19:46:46 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:46:46 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - 200 null text/html; charset=utf-8 123.949ms
[2025-08-01 19:46:46 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 19:46:46 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.2086ms
[2025-08-01 19:58:20 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - null null
[2025-08-01 19:58:20 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:58:20 INF] Route matched with {action = "Availabilities", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Availabilities(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 19:58:20 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) - Validation state: "Valid"
[2025-08-01 19:58:20 INF] Executed DbCommand (54ms) [Parameters=[@__activityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a1].[Id], [a1].[B2BAgencyId], [a1].[Category], [a1].[ContactInfo_Email], [a1].[ContactInfoIsNull], [a1].[ContactInfo_Name], [a1].[ContactInfo_Phone], [a1].[ContactInfo_Role], [a1].[CountryCode], [a1].[CoverImage], [a1].[CreatedAt], [a1].[Description], [a1].[DestinationCode], [a1].[DestinationName], [a1].[DetailsUrl], [a1].[Duration], [a1].[Exclusions], [a1].[ExclusionsJson], [a1].[GalleryImages], [a1].[GuestFields], [a1].[GuestFieldsJson], [a1].[Highlights], [a1].[ImportantInfo], [a1].[ImportantInfoJson], [a1].[Inclusions], [a1].[InclusionsJson], [a1].[IsActive], [a1].[IsFreeCancellation], [a1].[Itinerary], [a1].[Label], [a1].[Media_Videos], [a1].[PartnerSupplierId], [a1].[PreviewImage], [a1].[Rating], [a1].[Status], [a1].[Title], [a1].[TotalRatingCount], [a1].[TourCompanyId], [a1].[UpdatedAt], [s0].[Id], [s0].[ActivityId], [s0].[AvailableCapacity], [s0].[Date], [s0].[MaximumCapacity], [s0].[OptionId], [s0].[PartnerSupplierId], [s0].[StartTime], [s0].[Id0], [s0].[ActivityId0], [s0].[CanBeBookedAfterStartTime], [s0].[CutOff], [s0].[Duration], [s0].[EndTime], [s0].[FromDate], [s0].[Name], [s0].[StartTime0], [s0].[UntilDate], [s0].[Weekdays], [s0].[Id1], [s0].[AvailabilityId], [s0].[Capacity], [s0].[TicketCategoryId], [s0].[Id00], [s0].[Amount], [s0].[Currency], [s0].[MaxAge], [s0].[MaxSeats], [s0].[MinAge], [s0].[MinSeats], [s0].[Name0], [s0].[OptionId0], [s0].[PriceType], [s0].[Type]
FROM (
    SELECT TOP(1) [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt]
    FROM [Activities] AS [a]
    WHERE [a].[Id] = @__activityId_0
) AS [a1]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [o].[Id] AS [Id0], [o].[ActivityId] AS [ActivityId0], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime] AS [StartTime0], [o].[UntilDate], [o].[Weekdays], [s].[Id] AS [Id1], [s].[AvailabilityId], [s].[Capacity], [s].[TicketCategoryId], [s].[Id0] AS [Id00], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name] AS [Name0], [s].[OptionId] AS [OptionId0], [s].[PriceType], [s].[Type]
    FROM [Availabilities] AS [a0]
    INNER JOIN [Options] AS [o] ON [a0].[OptionId] = [o].[Id]
    LEFT JOIN (
        SELECT [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId], [t0].[Id] AS [Id0], [t0].[Amount], [t0].[Currency], [t0].[MaxAge], [t0].[MaxSeats], [t0].[MinAge], [t0].[MinSeats], [t0].[Name], [t0].[OptionId], [t0].[PriceType], [t0].[Type]
        FROM [TicketCategoryCapacities] AS [t]
        INNER JOIN [TicketCategories] AS [t0] ON [t].[TicketCategoryId] = [t0].[Id]
    ) AS [s] ON [a0].[Id] = [s].[AvailabilityId]
) AS [s0] ON [a1].[Id] = [s0].[ActivityId]
ORDER BY [a1].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
[2025-08-01 19:58:20 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 289.7253ms.
[2025-08-01 19:58:20 INF] Executing ViewResult, running view Availabilities.
[2025-08-01 19:58:20 INF] Executed ViewResult - view Availabilities executed in 2.5704ms.
[2025-08-01 19:58:20 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) in 299.7826ms
[2025-08-01 19:58:20 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:58:20 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - 200 null text/html; charset=utf-8 334.3618ms
[2025-08-01 19:58:20 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 19:58:20 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.4106ms
[2025-08-01 19:58:20 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 19:58:20 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.1295ms
[2025-08-01 19:58:24 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - null null
[2025-08-01 19:58:24 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:58:24 INF] Route matched with {action = "Availabilities", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Availabilities(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 19:58:24 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) - Validation state: "Valid"
[2025-08-01 19:58:25 INF] Executed DbCommand (29ms) [Parameters=[@__activityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a1].[Id], [a1].[B2BAgencyId], [a1].[Category], [a1].[ContactInfo_Email], [a1].[ContactInfoIsNull], [a1].[ContactInfo_Name], [a1].[ContactInfo_Phone], [a1].[ContactInfo_Role], [a1].[CountryCode], [a1].[CoverImage], [a1].[CreatedAt], [a1].[Description], [a1].[DestinationCode], [a1].[DestinationName], [a1].[DetailsUrl], [a1].[Duration], [a1].[Exclusions], [a1].[ExclusionsJson], [a1].[GalleryImages], [a1].[GuestFields], [a1].[GuestFieldsJson], [a1].[Highlights], [a1].[ImportantInfo], [a1].[ImportantInfoJson], [a1].[Inclusions], [a1].[InclusionsJson], [a1].[IsActive], [a1].[IsFreeCancellation], [a1].[Itinerary], [a1].[Label], [a1].[Media_Videos], [a1].[PartnerSupplierId], [a1].[PreviewImage], [a1].[Rating], [a1].[Status], [a1].[Title], [a1].[TotalRatingCount], [a1].[TourCompanyId], [a1].[UpdatedAt], [s0].[Id], [s0].[ActivityId], [s0].[AvailableCapacity], [s0].[Date], [s0].[MaximumCapacity], [s0].[OptionId], [s0].[PartnerSupplierId], [s0].[StartTime], [s0].[Id0], [s0].[ActivityId0], [s0].[CanBeBookedAfterStartTime], [s0].[CutOff], [s0].[Duration], [s0].[EndTime], [s0].[FromDate], [s0].[Name], [s0].[StartTime0], [s0].[UntilDate], [s0].[Weekdays], [s0].[Id1], [s0].[AvailabilityId], [s0].[Capacity], [s0].[TicketCategoryId], [s0].[Id00], [s0].[Amount], [s0].[Currency], [s0].[MaxAge], [s0].[MaxSeats], [s0].[MinAge], [s0].[MinSeats], [s0].[Name0], [s0].[OptionId0], [s0].[PriceType], [s0].[Type]
FROM (
    SELECT TOP(1) [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt]
    FROM [Activities] AS [a]
    WHERE [a].[Id] = @__activityId_0
) AS [a1]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [o].[Id] AS [Id0], [o].[ActivityId] AS [ActivityId0], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime] AS [StartTime0], [o].[UntilDate], [o].[Weekdays], [s].[Id] AS [Id1], [s].[AvailabilityId], [s].[Capacity], [s].[TicketCategoryId], [s].[Id0] AS [Id00], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name] AS [Name0], [s].[OptionId] AS [OptionId0], [s].[PriceType], [s].[Type]
    FROM [Availabilities] AS [a0]
    INNER JOIN [Options] AS [o] ON [a0].[OptionId] = [o].[Id]
    LEFT JOIN (
        SELECT [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId], [t0].[Id] AS [Id0], [t0].[Amount], [t0].[Currency], [t0].[MaxAge], [t0].[MaxSeats], [t0].[MinAge], [t0].[MinSeats], [t0].[Name], [t0].[OptionId], [t0].[PriceType], [t0].[Type]
        FROM [TicketCategoryCapacities] AS [t]
        INNER JOIN [TicketCategories] AS [t0] ON [t].[TicketCategoryId] = [t0].[Id]
    ) AS [s] ON [a0].[Id] = [s].[AvailabilityId]
) AS [s0] ON [a1].[Id] = [s0].[ActivityId]
ORDER BY [a1].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
[2025-08-01 19:58:25 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 83.4388ms.
[2025-08-01 19:58:25 INF] Executing ViewResult, running view Availabilities.
[2025-08-01 19:58:25 INF] Executed ViewResult - view Availabilities executed in 2.0887ms.
[2025-08-01 19:58:25 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) in 93.8145ms
[2025-08-01 19:58:25 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:58:25 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - 200 null text/html; charset=utf-8 110.8374ms
[2025-08-01 19:58:25 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 19:58:25 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.5909ms
[2025-08-01 19:58:25 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 19:58:25 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.1333ms
[2025-08-01 19:58:34 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - null null
[2025-08-01 19:58:34 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:58:34 INF] Route matched with {action = "Availabilities", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Availabilities(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 19:58:34 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) - Validation state: "Valid"
[2025-08-01 19:58:34 INF] Executed DbCommand (31ms) [Parameters=[@__activityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a1].[Id], [a1].[B2BAgencyId], [a1].[Category], [a1].[ContactInfo_Email], [a1].[ContactInfoIsNull], [a1].[ContactInfo_Name], [a1].[ContactInfo_Phone], [a1].[ContactInfo_Role], [a1].[CountryCode], [a1].[CoverImage], [a1].[CreatedAt], [a1].[Description], [a1].[DestinationCode], [a1].[DestinationName], [a1].[DetailsUrl], [a1].[Duration], [a1].[Exclusions], [a1].[ExclusionsJson], [a1].[GalleryImages], [a1].[GuestFields], [a1].[GuestFieldsJson], [a1].[Highlights], [a1].[ImportantInfo], [a1].[ImportantInfoJson], [a1].[Inclusions], [a1].[InclusionsJson], [a1].[IsActive], [a1].[IsFreeCancellation], [a1].[Itinerary], [a1].[Label], [a1].[Media_Videos], [a1].[PartnerSupplierId], [a1].[PreviewImage], [a1].[Rating], [a1].[Status], [a1].[Title], [a1].[TotalRatingCount], [a1].[TourCompanyId], [a1].[UpdatedAt], [s0].[Id], [s0].[ActivityId], [s0].[AvailableCapacity], [s0].[Date], [s0].[MaximumCapacity], [s0].[OptionId], [s0].[PartnerSupplierId], [s0].[StartTime], [s0].[Id0], [s0].[ActivityId0], [s0].[CanBeBookedAfterStartTime], [s0].[CutOff], [s0].[Duration], [s0].[EndTime], [s0].[FromDate], [s0].[Name], [s0].[StartTime0], [s0].[UntilDate], [s0].[Weekdays], [s0].[Id1], [s0].[AvailabilityId], [s0].[Capacity], [s0].[TicketCategoryId], [s0].[Id00], [s0].[Amount], [s0].[Currency], [s0].[MaxAge], [s0].[MaxSeats], [s0].[MinAge], [s0].[MinSeats], [s0].[Name0], [s0].[OptionId0], [s0].[PriceType], [s0].[Type]
FROM (
    SELECT TOP(1) [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt]
    FROM [Activities] AS [a]
    WHERE [a].[Id] = @__activityId_0
) AS [a1]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [o].[Id] AS [Id0], [o].[ActivityId] AS [ActivityId0], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime] AS [StartTime0], [o].[UntilDate], [o].[Weekdays], [s].[Id] AS [Id1], [s].[AvailabilityId], [s].[Capacity], [s].[TicketCategoryId], [s].[Id0] AS [Id00], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name] AS [Name0], [s].[OptionId] AS [OptionId0], [s].[PriceType], [s].[Type]
    FROM [Availabilities] AS [a0]
    INNER JOIN [Options] AS [o] ON [a0].[OptionId] = [o].[Id]
    LEFT JOIN (
        SELECT [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId], [t0].[Id] AS [Id0], [t0].[Amount], [t0].[Currency], [t0].[MaxAge], [t0].[MaxSeats], [t0].[MinAge], [t0].[MinSeats], [t0].[Name], [t0].[OptionId], [t0].[PriceType], [t0].[Type]
        FROM [TicketCategoryCapacities] AS [t]
        INNER JOIN [TicketCategories] AS [t0] ON [t].[TicketCategoryId] = [t0].[Id]
    ) AS [s] ON [a0].[Id] = [s].[AvailabilityId]
) AS [s0] ON [a1].[Id] = [s0].[ActivityId]
ORDER BY [a1].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
[2025-08-01 19:58:34 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 85.4367ms.
[2025-08-01 19:58:34 INF] Executing ViewResult, running view Availabilities.
[2025-08-01 19:58:34 INF] Executed ViewResult - view Availabilities executed in 2.3668ms.
[2025-08-01 19:58:34 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) in 95.8627ms
[2025-08-01 19:58:34 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:58:34 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - 200 null text/html; charset=utf-8 113.1002ms
[2025-08-01 19:58:34 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 19:58:34 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 19:58:34 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.2391ms
[2025-08-01 19:58:34 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.5504ms
[2025-08-01 19:58:44 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - null null
[2025-08-01 19:58:44 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:58:44 INF] Route matched with {action = "Availabilities", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Availabilities(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 19:58:44 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) - Validation state: "Valid"
[2025-08-01 19:58:44 INF] Executed DbCommand (28ms) [Parameters=[@__activityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a1].[Id], [a1].[B2BAgencyId], [a1].[Category], [a1].[ContactInfo_Email], [a1].[ContactInfoIsNull], [a1].[ContactInfo_Name], [a1].[ContactInfo_Phone], [a1].[ContactInfo_Role], [a1].[CountryCode], [a1].[CoverImage], [a1].[CreatedAt], [a1].[Description], [a1].[DestinationCode], [a1].[DestinationName], [a1].[DetailsUrl], [a1].[Duration], [a1].[Exclusions], [a1].[ExclusionsJson], [a1].[GalleryImages], [a1].[GuestFields], [a1].[GuestFieldsJson], [a1].[Highlights], [a1].[ImportantInfo], [a1].[ImportantInfoJson], [a1].[Inclusions], [a1].[InclusionsJson], [a1].[IsActive], [a1].[IsFreeCancellation], [a1].[Itinerary], [a1].[Label], [a1].[Media_Videos], [a1].[PartnerSupplierId], [a1].[PreviewImage], [a1].[Rating], [a1].[Status], [a1].[Title], [a1].[TotalRatingCount], [a1].[TourCompanyId], [a1].[UpdatedAt], [s0].[Id], [s0].[ActivityId], [s0].[AvailableCapacity], [s0].[Date], [s0].[MaximumCapacity], [s0].[OptionId], [s0].[PartnerSupplierId], [s0].[StartTime], [s0].[Id0], [s0].[ActivityId0], [s0].[CanBeBookedAfterStartTime], [s0].[CutOff], [s0].[Duration], [s0].[EndTime], [s0].[FromDate], [s0].[Name], [s0].[StartTime0], [s0].[UntilDate], [s0].[Weekdays], [s0].[Id1], [s0].[AvailabilityId], [s0].[Capacity], [s0].[TicketCategoryId], [s0].[Id00], [s0].[Amount], [s0].[Currency], [s0].[MaxAge], [s0].[MaxSeats], [s0].[MinAge], [s0].[MinSeats], [s0].[Name0], [s0].[OptionId0], [s0].[PriceType], [s0].[Type]
FROM (
    SELECT TOP(1) [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt]
    FROM [Activities] AS [a]
    WHERE [a].[Id] = @__activityId_0
) AS [a1]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [o].[Id] AS [Id0], [o].[ActivityId] AS [ActivityId0], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime] AS [StartTime0], [o].[UntilDate], [o].[Weekdays], [s].[Id] AS [Id1], [s].[AvailabilityId], [s].[Capacity], [s].[TicketCategoryId], [s].[Id0] AS [Id00], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name] AS [Name0], [s].[OptionId] AS [OptionId0], [s].[PriceType], [s].[Type]
    FROM [Availabilities] AS [a0]
    INNER JOIN [Options] AS [o] ON [a0].[OptionId] = [o].[Id]
    LEFT JOIN (
        SELECT [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId], [t0].[Id] AS [Id0], [t0].[Amount], [t0].[Currency], [t0].[MaxAge], [t0].[MaxSeats], [t0].[MinAge], [t0].[MinSeats], [t0].[Name], [t0].[OptionId], [t0].[PriceType], [t0].[Type]
        FROM [TicketCategoryCapacities] AS [t]
        INNER JOIN [TicketCategories] AS [t0] ON [t].[TicketCategoryId] = [t0].[Id]
    ) AS [s] ON [a0].[Id] = [s].[AvailabilityId]
) AS [s0] ON [a1].[Id] = [s0].[ActivityId]
ORDER BY [a1].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
[2025-08-01 19:58:44 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 93.7378ms.
[2025-08-01 19:58:44 INF] Executing ViewResult, running view Availabilities.
[2025-08-01 19:58:44 INF] Executed ViewResult - view Availabilities executed in 2.3555ms.
[2025-08-01 19:58:44 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) in 104.4015ms
[2025-08-01 19:58:44 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 19:58:44 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - 200 null text/html; charset=utf-8 125.308ms
[2025-08-01 19:58:45 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 19:58:45 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 19:58:45 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.1968ms
[2025-08-01 19:58:45 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.4916ms
[2025-08-01 20:00:20 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - null null
[2025-08-01 20:00:20 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 20:00:20 INF] Route matched with {action = "Availabilities", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Availabilities(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 20:00:20 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) - Validation state: "Valid"
[2025-08-01 20:00:20 INF] Executed DbCommand (47ms) [Parameters=[@__activityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a1].[Id], [a1].[B2BAgencyId], [a1].[Category], [a1].[ContactInfo_Email], [a1].[ContactInfoIsNull], [a1].[ContactInfo_Name], [a1].[ContactInfo_Phone], [a1].[ContactInfo_Role], [a1].[CountryCode], [a1].[CoverImage], [a1].[CreatedAt], [a1].[Description], [a1].[DestinationCode], [a1].[DestinationName], [a1].[DetailsUrl], [a1].[Duration], [a1].[Exclusions], [a1].[ExclusionsJson], [a1].[GalleryImages], [a1].[GuestFields], [a1].[GuestFieldsJson], [a1].[Highlights], [a1].[ImportantInfo], [a1].[ImportantInfoJson], [a1].[Inclusions], [a1].[InclusionsJson], [a1].[IsActive], [a1].[IsFreeCancellation], [a1].[Itinerary], [a1].[Label], [a1].[Media_Videos], [a1].[PartnerSupplierId], [a1].[PreviewImage], [a1].[Rating], [a1].[Status], [a1].[Title], [a1].[TotalRatingCount], [a1].[TourCompanyId], [a1].[UpdatedAt], [s0].[Id], [s0].[ActivityId], [s0].[AvailableCapacity], [s0].[Date], [s0].[MaximumCapacity], [s0].[OptionId], [s0].[PartnerSupplierId], [s0].[StartTime], [s0].[Id0], [s0].[ActivityId0], [s0].[CanBeBookedAfterStartTime], [s0].[CutOff], [s0].[Duration], [s0].[EndTime], [s0].[FromDate], [s0].[Name], [s0].[StartTime0], [s0].[UntilDate], [s0].[Weekdays], [s0].[Id1], [s0].[AvailabilityId], [s0].[Capacity], [s0].[TicketCategoryId], [s0].[Id00], [s0].[Amount], [s0].[Currency], [s0].[MaxAge], [s0].[MaxSeats], [s0].[MinAge], [s0].[MinSeats], [s0].[Name0], [s0].[OptionId0], [s0].[PriceType], [s0].[Type]
FROM (
    SELECT TOP(1) [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt]
    FROM [Activities] AS [a]
    WHERE [a].[Id] = @__activityId_0
) AS [a1]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [o].[Id] AS [Id0], [o].[ActivityId] AS [ActivityId0], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime] AS [StartTime0], [o].[UntilDate], [o].[Weekdays], [s].[Id] AS [Id1], [s].[AvailabilityId], [s].[Capacity], [s].[TicketCategoryId], [s].[Id0] AS [Id00], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name] AS [Name0], [s].[OptionId] AS [OptionId0], [s].[PriceType], [s].[Type]
    FROM [Availabilities] AS [a0]
    INNER JOIN [Options] AS [o] ON [a0].[OptionId] = [o].[Id]
    LEFT JOIN (
        SELECT [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId], [t0].[Id] AS [Id0], [t0].[Amount], [t0].[Currency], [t0].[MaxAge], [t0].[MaxSeats], [t0].[MinAge], [t0].[MinSeats], [t0].[Name], [t0].[OptionId], [t0].[PriceType], [t0].[Type]
        FROM [TicketCategoryCapacities] AS [t]
        INNER JOIN [TicketCategories] AS [t0] ON [t].[TicketCategoryId] = [t0].[Id]
    ) AS [s] ON [a0].[Id] = [s].[AvailabilityId]
) AS [s0] ON [a1].[Id] = [s0].[ActivityId]
ORDER BY [a1].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
[2025-08-01 20:00:20 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 98.9719ms.
[2025-08-01 20:00:20 INF] Executing ViewResult, running view Availabilities.
[2025-08-01 20:00:20 INF] Executed ViewResult - view Availabilities executed in 1.6474ms.
[2025-08-01 20:00:20 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) in 109.688ms
[2025-08-01 20:00:20 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 20:00:20 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - 200 null text/html; charset=utf-8 141.2163ms
[2025-08-01 20:00:20 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 20:00:20 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 5.7597ms
[2025-08-01 20:00:20 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 20:00:20 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.1706ms
[2025-08-01 20:03:09 INF] Request starting HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - null null
[2025-08-01 20:03:09 INF] Executing endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 20:03:09 INF] Route matched with {action = "Availabilities", controller = "ActivitiesWizard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Availabilities(Int32) on controller TourManagementApi.Controllers.ActivitiesWizardController (TourManagementApi).
[2025-08-01 20:03:09 INF] Executing action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) - Validation state: "Valid"
[2025-08-01 20:03:09 INF] Executed DbCommand (115ms) [Parameters=[@__activityId_0='6'], CommandType='"Text"', CommandTimeout='30']
SELECT [a1].[Id], [a1].[B2BAgencyId], [a1].[Category], [a1].[ContactInfo_Email], [a1].[ContactInfoIsNull], [a1].[ContactInfo_Name], [a1].[ContactInfo_Phone], [a1].[ContactInfo_Role], [a1].[CountryCode], [a1].[CoverImage], [a1].[CreatedAt], [a1].[Description], [a1].[DestinationCode], [a1].[DestinationName], [a1].[DetailsUrl], [a1].[Duration], [a1].[Exclusions], [a1].[ExclusionsJson], [a1].[GalleryImages], [a1].[GuestFields], [a1].[GuestFieldsJson], [a1].[Highlights], [a1].[ImportantInfo], [a1].[ImportantInfoJson], [a1].[Inclusions], [a1].[InclusionsJson], [a1].[IsActive], [a1].[IsFreeCancellation], [a1].[Itinerary], [a1].[Label], [a1].[Media_Videos], [a1].[PartnerSupplierId], [a1].[PreviewImage], [a1].[Rating], [a1].[Status], [a1].[Title], [a1].[TotalRatingCount], [a1].[TourCompanyId], [a1].[UpdatedAt], [s0].[Id], [s0].[ActivityId], [s0].[AvailableCapacity], [s0].[Date], [s0].[MaximumCapacity], [s0].[OptionId], [s0].[PartnerSupplierId], [s0].[StartTime], [s0].[Id0], [s0].[ActivityId0], [s0].[CanBeBookedAfterStartTime], [s0].[CutOff], [s0].[Duration], [s0].[EndTime], [s0].[FromDate], [s0].[Name], [s0].[StartTime0], [s0].[UntilDate], [s0].[Weekdays], [s0].[Id1], [s0].[AvailabilityId], [s0].[Capacity], [s0].[TicketCategoryId], [s0].[Id00], [s0].[Amount], [s0].[Currency], [s0].[MaxAge], [s0].[MaxSeats], [s0].[MinAge], [s0].[MinSeats], [s0].[Name0], [s0].[OptionId0], [s0].[PriceType], [s0].[Type]
FROM (
    SELECT TOP(1) [a].[Id], [a].[B2BAgencyId], [a].[Category], [a].[ContactInfo_Email], [a].[ContactInfoIsNull], [a].[ContactInfo_Name], [a].[ContactInfo_Phone], [a].[ContactInfo_Role], [a].[CountryCode], [a].[CoverImage], [a].[CreatedAt], [a].[Description], [a].[DestinationCode], [a].[DestinationName], [a].[DetailsUrl], [a].[Duration], [a].[Exclusions], [a].[ExclusionsJson], [a].[GalleryImages], [a].[GuestFields], [a].[GuestFieldsJson], [a].[Highlights], [a].[ImportantInfo], [a].[ImportantInfoJson], [a].[Inclusions], [a].[InclusionsJson], [a].[IsActive], [a].[IsFreeCancellation], [a].[Itinerary], [a].[Label], [a].[Media_Videos], [a].[PartnerSupplierId], [a].[PreviewImage], [a].[Rating], [a].[Status], [a].[Title], [a].[TotalRatingCount], [a].[TourCompanyId], [a].[UpdatedAt]
    FROM [Activities] AS [a]
    WHERE [a].[Id] = @__activityId_0
) AS [a1]
LEFT JOIN (
    SELECT [a0].[Id], [a0].[ActivityId], [a0].[AvailableCapacity], [a0].[Date], [a0].[MaximumCapacity], [a0].[OptionId], [a0].[PartnerSupplierId], [a0].[StartTime], [o].[Id] AS [Id0], [o].[ActivityId] AS [ActivityId0], [o].[CanBeBookedAfterStartTime], [o].[CutOff], [o].[Duration], [o].[EndTime], [o].[FromDate], [o].[Name], [o].[StartTime] AS [StartTime0], [o].[UntilDate], [o].[Weekdays], [s].[Id] AS [Id1], [s].[AvailabilityId], [s].[Capacity], [s].[TicketCategoryId], [s].[Id0] AS [Id00], [s].[Amount], [s].[Currency], [s].[MaxAge], [s].[MaxSeats], [s].[MinAge], [s].[MinSeats], [s].[Name] AS [Name0], [s].[OptionId] AS [OptionId0], [s].[PriceType], [s].[Type]
    FROM [Availabilities] AS [a0]
    INNER JOIN [Options] AS [o] ON [a0].[OptionId] = [o].[Id]
    LEFT JOIN (
        SELECT [t].[Id], [t].[AvailabilityId], [t].[Capacity], [t].[TicketCategoryId], [t0].[Id] AS [Id0], [t0].[Amount], [t0].[Currency], [t0].[MaxAge], [t0].[MaxSeats], [t0].[MinAge], [t0].[MinSeats], [t0].[Name], [t0].[OptionId], [t0].[PriceType], [t0].[Type]
        FROM [TicketCategoryCapacities] AS [t]
        INNER JOIN [TicketCategories] AS [t0] ON [t].[TicketCategoryId] = [t0].[Id]
    ) AS [s] ON [a0].[Id] = [s].[AvailabilityId]
) AS [s0] ON [a1].[Id] = [s0].[ActivityId]
ORDER BY [a1].[Id], [s0].[Id], [s0].[Id0], [s0].[Id1]
[2025-08-01 20:03:09 INF] Executed action method TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi), returned result Microsoft.AspNetCore.Mvc.ViewResult in 168.762ms.
[2025-08-01 20:03:09 INF] Executing ViewResult, running view Availabilities.
[2025-08-01 20:03:09 INF] Executed ViewResult - view Availabilities executed in 1.8378ms.
[2025-08-01 20:03:09 INF] Executed action TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi) in 180.0738ms
[2025-08-01 20:03:09 INF] Executed endpoint 'TourManagementApi.Controllers.ActivitiesWizardController.Availabilities (TourManagementApi)'
[2025-08-01 20:03:09 INF] Request finished HTTP/1.1 GET http://localhost:5050/ActivitiesWizard/Availabilities?activityId=6 - 200 null text/html; charset=utf-8 206.3708ms
[2025-08-01 20:03:09 INF] Request starting HTTP/1.1 GET http://localhost:5050/_vs/browserLink - null null
[2025-08-01 20:03:09 INF] Request finished HTTP/1.1 GET http://localhost:5050/_vs/browserLink - 200 null text/javascript; charset=UTF-8 4.4116ms
[2025-08-01 20:03:09 INF] Request starting HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - null null
[2025-08-01 20:03:09 INF] Request finished HTTP/1.1 GET http://localhost:5050/_framework/aspnetcore-browser-refresh.js - 200 13770 application/javascript; charset=utf-8 0.1604ms
